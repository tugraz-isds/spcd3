{"version":3,"file":"spc.js","sources":["../../src/scripts/parallelcoordinates.ts"],"sourcesContent":["export class SteerableParcoords {\r\n    data;\r\n    newFeatures;\r\n    width;\r\n    height;\r\n    padding;\r\n    brushWidth;\r\n    filters;\r\n    features;\r\n    xScales;\r\n    dragging;\r\n    featureAxisG;\r\n    yScales;\r\n    active;\r\n    inactive;\r\n    newDataset;\r\n    yBrushes;\r\n    yAxis;\r\n    constructor(data, newFeatures) {\r\n        if (data) {\r\n            this.data = data;\r\n        }\r\n        if (newFeatures) {\r\n            this.newFeatures = newFeatures;\r\n        }\r\n    }\r\n    loadCSV(csv) {\r\n        var tmp_data = d3.csvParse(csv);\r\n        this.data = tmp_data.sort((a, b) => a.Name.toLowerCase() > b.Name.toLowerCase() ? 1 : -1);\r\n    }\r\n    //not happy with this, but at the moment we need it\r\n    getData() {\r\n        return this.data;\r\n    }\r\n    setDimensions(newDimension) {\r\n        this.newFeatures = newDimension;\r\n        this.newFeatures.reverse();\r\n    }\r\n    invert(dimension) {\r\n        const invert_id = \"#dimension_invert_\" + dimension;\r\n        const dimension_id = \"#dimension_axis_\" + dimension;\r\n        const textElement = d3.select(invert_id);\r\n        const currentText = textElement.text();\r\n        const newText = currentText === '\\u2193' ? '\\u2191' : '\\u2193';\r\n        textElement.text(newText);\r\n        d3.select(dimension_id)\r\n            .call(this.yAxis[dimension].scale(this.yScales[dimension].domain(this.yScales[dimension].domain().reverse())))\r\n            .transition();\r\n        // force update lines\r\n        this.active.attr('d', this.linePath.bind(this));\r\n        delete textElement.__origin__;\r\n        delete this.active[dimension];\r\n        this.transition(this.active).attr('d', this.linePath.bind(this));\r\n        this.inactive.attr('d', this.linePath.bind(this))\r\n            .transition()\r\n            .delay(5)\r\n            .duration(0)\r\n            .attr(\"visibility\", null);\r\n    }\r\n    getInversionStatus(dimension) {\r\n    }\r\n    move(dimension, toRightOf, A) {\r\n    }\r\n    getDimensionPositions() {\r\n    }\r\n    getFilter(dimension) {\r\n    }\r\n    setFilter(dimension) {\r\n    }\r\n    getSelected() {\r\n    }\r\n    select(records) {\r\n    }\r\n    saveAsSVG() {\r\n    }\r\n    position(d, parcoords) {\r\n        var v = parcoords.dragging[d];\r\n        return v == null ? parcoords.xScales(d) : v;\r\n    }\r\n    onDragStartEventHandler(parcoords) {\r\n        {\r\n            return function onDragStart(d) {\r\n                this.__origin__ = parcoords.xScales((d.subject).name);\r\n                parcoords.dragging[(d.subject).name] = this.__origin__;\r\n                parcoords.inactive.attr(\"visibility\", \"hidden\");\r\n            };\r\n        }\r\n    }\r\n    onDragEventHandler(parcoords) {\r\n        {\r\n            return function onDrag(d) {\r\n                parcoords.dragging[(d.subject).name] = Math.min(parcoords.width, Math.max(0, this.__origin__ += d.dx));\r\n                parcoords.active.attr('d', parcoords.linePath.bind(parcoords));\r\n                parcoords.newFeatures.sort((a, b) => { return parcoords.position(b, parcoords) - parcoords.position(a, parcoords); });\r\n                parcoords.xScales.domain(parcoords.newFeatures);\r\n                parcoords.featureAxisG.attr(\"transform\", (d) => { return \"translate(\" + parcoords.position(d.name, parcoords) + \")\"; });\r\n            };\r\n        }\r\n    }\r\n    transition(g) {\r\n        return g.transition().duration(50);\r\n    }\r\n    onDragEndEventHandler(parcoords) {\r\n        {\r\n            return function onDragEnd(d) {\r\n                delete this.__origin__;\r\n                delete parcoords.dragging[(d.subject).name];\r\n                parcoords.transition(d3.select(this)).attr('transform', d => ('translate(' + parcoords.xScales(d.name) + ')'));\r\n                parcoords.transition(parcoords.active).attr('d', parcoords.linePath.bind(parcoords));\r\n                parcoords.inactive.attr('d', parcoords.linePath.bind(parcoords))\r\n                    .transition()\r\n                    .delay(5)\r\n                    .duration(0)\r\n                    .attr(\"visibility\", null);\r\n            };\r\n        }\r\n    }\r\n    onInvert(parcoords) {\r\n        {\r\n            return function invert(event, d) {\r\n                parcoords.invert(d.name);\r\n            };\r\n        }\r\n    }\r\n    prepareData() {\r\n        this.data.forEach(obj => {\r\n            var newdata = {};\r\n            this.newFeatures.forEach(feature => {\r\n                newdata[feature] = obj[feature];\r\n            });\r\n            this.newDataset.push(newdata);\r\n        });\r\n        Object.keys(this.newDataset[0]).forEach(element => this.features.push({ 'name': element }));\r\n    }\r\n    setupScales() {\r\n        //TODO check if integer and if then get all values for max and min\r\n        this.features.map(x => {\r\n            if (x.name === \"Name\") {\r\n                this.yScales[x.name] = d3.scalePoint()\r\n                    .domain(this.newDataset.map(function (d) { return d.Name; }))\r\n                    .range([this.padding, this.height - this.padding]);\r\n            }\r\n            else {\r\n                var max = Math.max(...this.newDataset.map(o => o[x.name]));\r\n                var min = 0; //Math.min(...this.newDataset.map(o => o[x.name]))\r\n                this.yScales[x.name] = d3.scaleLinear()\r\n                    .domain([min, max]).nice()\r\n                    .range([this.height - this.padding, this.padding]);\r\n            }\r\n        });\r\n        this.xScales = d3.scalePoint()\r\n            .range([this.width - this.padding, this.padding])\r\n            .domain(this.features.map(x => x.name));\r\n    }\r\n    setupYAxis() {\r\n        Object.entries(this.yScales).map(x => {\r\n            this.yAxis[x[0]] = d3.axisLeft(x[1]);\r\n        });\r\n        return this.yAxis;\r\n    }\r\n    setupBrush() {\r\n        Object.entries(this.yScales).map(x => {\r\n            let extent = [[-(this.brushWidth / 2), this.padding - 1],\r\n                [this.brushWidth / 2, this.height - this.padding]];\r\n            this.yBrushes[x[0]] = d3.brushY()\r\n                .extent(extent)\r\n                .on('brush', this.onBrushEventHandler(this))\r\n                .on('end', this.onBrushEventHandler(this));\r\n        });\r\n        return this.yBrushes;\r\n    }\r\n    onBrushEventHandler(parcoords) {\r\n        {\r\n            return function brushEventHandler(event, features) {\r\n                if (event.sourceEvent && event.sourceEvent.type === 'zoom')\r\n                    return;\r\n                if (parcoords.features === 'Name') {\r\n                    return;\r\n                }\r\n                if (event.selection != null) {\r\n                    const remappedSelection = event.selection.map((x) => {\r\n                        const scale = parcoords.yScales[features.name]; // Get the appropriate scale based on features\r\n                        return scale.invert(x); // Remap the selection value\r\n                    });\r\n                    parcoords.filters[features.name] = remappedSelection;\r\n                }\r\n                else {\r\n                    if (features.name in parcoords.filters)\r\n                        delete (parcoords.filters[features.name]);\r\n                }\r\n                parcoords.applyFilters();\r\n            };\r\n        }\r\n    }\r\n    applyFilters() {\r\n        d3.select('g.active').selectAll('path')\r\n            .style('display', d => (this.selected(d) ? null : 'none'));\r\n    }\r\n    selected(d) {\r\n        const tempFilters = Object.entries(this.filters);\r\n        return tempFilters.every(f => {\r\n            return f[1][1] <= d[f[0]] && d[f[0]] <= f[1][0];\r\n        });\r\n    }\r\n    initContent() {\r\n        this.width = 1200;\r\n        this.height = 400;\r\n        this.padding = 50;\r\n        this.brushWidth = 20;\r\n        this.filters = {};\r\n        this.features = [];\r\n        this.xScales = null;\r\n        this.dragging = {};\r\n        this.featureAxisG = null;\r\n        this.yScales = {};\r\n        this.active = null;\r\n        this.inactive = null;\r\n        this.newDataset = [];\r\n        this.yBrushes = {};\r\n        this.yAxis = {};\r\n        d3.select(\"svg\").remove();\r\n    }\r\n    // TODO refactor\r\n    generateSVG() {\r\n        this.initContent();\r\n        this.prepareData();\r\n        this.setupScales();\r\n        var self = this;\r\n        var yaxis = this.setupYAxis();\r\n        var brushes = this.setupBrush();\r\n        const svg = d3.select(\"#parallelcoords\")\r\n            .append('svg')\r\n            .attr(\"viewBox\", \"0 0 1200 400\");\r\n        this.inactive = svg.append('g')\r\n            .attr('class', 'inactive')\r\n            .selectAll('path')\r\n            .data(this.data)\r\n            .enter()\r\n            .append('path')\r\n            .attr('d', this.linePath.bind(this));\r\n        this.active = svg.append('g')\r\n            .attr('class', 'active')\r\n            .selectAll('path')\r\n            .data(this.data)\r\n            .enter()\r\n            .append('path')\r\n            .attr(\"class\", function (d) { return \"line \" + d.Name; })\r\n            .attr('d', this.linePath.bind(this))\r\n            .style(\"opacity\", 0.5)\r\n            .on(\"mouseover\", this.highlight)\r\n            .on(\"mouseleave\", this.doNotHighlight)\r\n            .each(function (d) {\r\n            const lineData = d; // Access the line data associated with the current line element\r\n            const lineElement = this; // Reference to the current line element\r\n            tippy(lineElement, {\r\n                content: `-`,\r\n                followCursor: 'initial',\r\n                onShow(instance) {\r\n                    var dimensionName = self.features[self.features.length - 1].name;\r\n                    instance.setContent(`${lineData[dimensionName]}`);\r\n                }\r\n            });\r\n        });\r\n        this.featureAxisG = svg.selectAll('g.feature')\r\n            .data(this.features)\r\n            .enter()\r\n            .append('g')\r\n            .attr('class', 'feature')\r\n            .attr('transform', d => ('translate(' + this.xScales(d.name) + ')'))\r\n            .call(d3.drag()\r\n            .on(\"start\", this.onDragStartEventHandler(this))\r\n            .on(\"drag\", this.onDragEventHandler(this))\r\n            .on(\"end\", this.onDragEndEventHandler(this)));\r\n        this.featureAxisG\r\n            .append('g')\r\n            .each(function (d) {\r\n            d3.select(this)\r\n                .attr('id', 'dimension_axis_' + d.name)\r\n                .call(yaxis[d.name]);\r\n        });\r\n        this.featureAxisG\r\n            .each(function (d) {\r\n            d3.select(this)\r\n                .append('g')\r\n                .attr('class', 'brush')\r\n                .call(brushes[d.name]);\r\n        });\r\n        this.featureAxisG\r\n            .append(\"text\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr('y', this.padding / 2)\r\n            .text(d => d.name);\r\n        this.featureAxisG\r\n            .append(\"text\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr('y', this.padding / 2 + 17)\r\n            .each(function (d) {\r\n            d3.select(this)\r\n                .attr('id', 'dimension_invert_' + d.name)\r\n                .text('\\u2193');\r\n        })\r\n            .on(\"click\", this.onInvert(this));\r\n    }\r\n    linePath(d) {\r\n        var lineGenerator = d3.line();\r\n        const tempdata = Object.entries(d).filter(x => x[0]);\r\n        let points = [];\r\n        this.newFeatures.map(newfeature => {\r\n            tempdata.map(x => {\r\n                if (newfeature === x[0]) {\r\n                    points.push([this.xScales(newfeature), this.yScales[newfeature](x[1])]);\r\n                }\r\n            });\r\n        });\r\n        return (lineGenerator(points));\r\n    }\r\n    highlight(d) {\r\n        var selected_student = d.target.__data__.Name;\r\n        // Second the hovered specie takes its color\r\n        d3.selectAll(\".\" + selected_student)\r\n            .transition().duration(5)\r\n            .style(\"stroke\", selected_student)\r\n            .style(\"opacity\", \"5\")\r\n            .style('stroke', 'red');\r\n    }\r\n    doNotHighlight(d) {\r\n        var selected_student = d.target.__data__.Name;\r\n        d3.selectAll(\".\" + selected_student)\r\n            .transition().duration(5)\r\n            .style(\"stroke\", selected_student)\r\n            .style(\"opacity\", \".4\")\r\n            .style('stroke', '#0081af');\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}